<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/polymer/lib/mixins/gesture-event-listeners.html">
<!--
    @author Robin Duda
    Polymer element for use as a footer.
 -->

<dom-module id="app-toolbar">
    <link rel="import" href="../style/theme.css" type="css">
    <link rel="import" href="../style/style.css" type="css">
    <template>
        <style>
            :host {
                display: block;
                width: 100%;
                position: fixed;
                top: 0;
                left: 0;
                background-color: #212121;
            }

            paper-material {
                display: block;
            }

            .header {
                display: block;
            }

            iron-icon {
                padding: 8px;
            }

            iron-icon:hover {
                cursor: pointer;
            }

        </style>

        <paper-material class="header" elevation="3">
            <iron-icon icon="icons:home" on-down="_home"></iron-icon>

            <template is="dom-if" if="[[loggedin]]">
                <iron-icon style="float:right;" icon="icons:close" on-down="_logout"></iron-icon>
            </template>
        </paper-material>

    </template>
    <script>
        class AppToolbar extends Polymer.GestureEventListeners(Polymer.Element) {

            static get is() {
                return 'app-toolbar';
            }

            ready() {
                super.ready();

                application.onAuthentication(() => {
                    this.loggedin = true;
                });

                application.onLogout(() => {
                    this.loggedin = false;
                });
            }

            _home() {
                application.view('start-page');
            }

            _logout() {
                application.logout();
            }
        }

        window.customElements.define(AppToolbar.is, AppToolbar);


    </script>
</dom-module>